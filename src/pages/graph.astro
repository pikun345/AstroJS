---
import client from '../lib/apolloConn';
import {gql} from "../../node_modules/@apollo/client/index"
const GET_DATA = gql `query GetData
                   {
                     data1
                       { id 
                        title
                        description }
                    }`;

let data :any= null;

try 
{
     const response = await client.query({ query: GET_DATA, }); 
     data = response.data; 
}
catch(error) 
{
     console.error("Error fetching GraphQL data:", error); 
}





---

<html> 
    <head> 
        <title>GraphQL with Apollo Client</title> 
    </head> 
    <body>
         <h1>GraphQL Data:</h1> 
         {data ? ( <ul> {data.data1.map((item) => ( 
            <li> 
              <h2>{item.title}</h2> 
              <p>{item.description}</p> 
            </li> ))} 
            </ul> ) : ( <p>Error fetching data or no data available.</p> )}
     </body> 
</html> 