---
import "../../styles/zeta.css";
import ContentCard from "../temPlates/ContentCard.astro";
import SrickyImg from "../temPlates/SrickyImg.astro";
import GrayText from "../temPlates/grayText.astro";
import SocialMedia from "../temPlates/SocialMedia.astro";
import Realted from "../temPlates/Realted.astro";
import HyContentCard from "./HyContentCard.astro";
import BlogText from "./BlogText.astro";
import Hyscaler1StSocial from "../temPlates/Hyscaler1stSocial.astro";
import FeaturedImg from "../temPlates/FeaturedImg.astro";
import Subscribe from "../temPlates/Subscribe.astro";
import Follow from "../temPlates/follow.astro";
import AllCategory1 from "../temPlates/AllCategory.astro";
import Tag from "../temPlates/Tag.astro";

const { data, sluglist, AllTag, AllCategory } = Astro.props; // here slug for current blog details slug and alldata for all blog details


const currentIndex = sluglist.findIndex((slug) => slug === data.slug);

const nextSlug = sluglist[currentIndex + 1]; //temporary setup
// const nextSlug = data.nextPost.slug; this will work when next post is not null and contain the next slug
---

<div  class="blog-section" id={data.slug} data-nextSlug={nextSlug} data-all={data}>
  <div class="flex flex-col">
    <HyContentCard data={data}/>

    <div class="flex flex-row justify-center items-center mb-40 md:transform">
      <div class="md:flex md:flex-row pr-16 pl-20 pt-3 sm:pr-12 md:mr-36 md:ml-10 p-20 sm:pl-12 sm:ml-3 sm:mr-3 flex flex-col">
        <!-- 1st div -->
        <div class="mt-5 md:ml-20 md:p-2 md:pl-1 h-1/3  sm:p-3 md:transform md:translate-x-10 rounded-lg bg-white  sm:w-full  sm:mr-2">
          <div class="md:pl-7 sm:pl-2 sm:pt-3 mr-3 md:mt-3">
            <div>
              <div>
                <p class="w-auto">
                  <BlogText data={data} />
                </p>
              </div>
            </div>
            <Hyscaler1StSocial data={data} />
          </div>
        </div>
    
        <!-- 2nd div -->
        <div class="h-auto md:w-96  md:mr-16 md:ml-2 md:transform sm:transform md:translate-x-8 ">
          <FeaturedImg data={data} />
          <Subscribe />
          <Follow />
    
          <AllCategory1 AllCategory2={AllCategory} />
    
          <!-- tag section -->
          <Tag AllTag={AllTag} />
        </div>
      </div>
    </div>

    <div id="drawer" class="fixed top-0 right-[-100%] w-[100%] z-50 h-full  items-center bg-white shadow-lg transition-all duration-300 p-5">
      <div class="ml-4">
        <span> logo </span>
        <span class="sm:truncate ml-4">
          5 Inspiring AR Ideas Transforming Education & Classrooms <br>
           <p class="ml-10">Comments </p> 
        </span>

      </div>
     
      <div class="flex items-center mb-4 ml-4">
        <h2 class="text-xl font-bold">Comments</h2>
        <button id="close-drawer" class="text-2xl">&times;</button>
      </div>
      <textarea class="w-full h-24 border p-2 ml-4 rounded-md mb-4" placeholder="Your comment here"></textarea>
      <button class="bg-blue-500 text-white ml-4 px-4 py-2 rounded-md hover:bg-blue-600">Sign In</button>
    </div>

    

  </div>


<!-- nxt post -->
<div id="nextpost" class="sm:hidden md:block lg:block xl:block 2xl:block">
</div>


</div>


<!-- to load more post -->
<script src="../../../public/scripts/content/inf.ts"></script>

<!-- for drawer -->
 
<script>
  const commentButton:any = document.getElementById('comment-btn');
 const drawer:any= document.getElementById('drawer');
 const closeButton:any= document.getElementById('close-drawer');
 
 // Open the drawer
 commentButton.addEventListener('click', () => {
   drawer.style.right = '-30%';
 });
 
 // Close the drawer
 closeButton.addEventListener('click', () => {
   drawer.style.right = '-100%';
 });
 </script>

